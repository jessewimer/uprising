{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uprising Seeds - Office Dashboard</title>

    <link rel="stylesheet" href="{% static 'office/css/base.css' %}">
    <link rel="stylesheet" href="{% static 'office/css/office_landing.css' %}">
</head>

<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <h1 class="brand-title">Uprising Seeds</h1>
            <p class="brand-subtitle">Office Dashboard</p>
        </div>

        <!-- Action Cards Section -->
        <div class="actions-container">
            <!-- Wholesale Card with Notification Badge -->
            <div class="action-card wholesale-card" onclick="showWholesaleMenu()">
                {% if pending_orders_count > 0 %}
                    <div class="notification-badge-count">{{ pending_orders_count }}</div>
                {% endif %}
                <div class="action-icon">🛒</div>
                <h3 class="action-title">Wholesale</h3>
                <p class="action-description">Manage wholesale operations and store products</p>
            </div>

            <!-- View Variety Card -->
            <a href="{% url 'view_variety' %}" class="action-card view-variety-card">
                <div class="action-icon">🌱</div>
                <h3 class="action-title">View Varieties</h3>
                <p class="action-description">Browse and review all available seed varieties</p>
            </a>

            <!-- Inventory/Germination Card -->
            <div class="action-card inventory-card" onclick="showInventoryMenu()">
                <div class="action-icon">🌰</div>
                <h3 class="action-title">Inventory & Germination</h3>
                <p class="action-description">Track inventory levels and germination data</p>
            </div>

            <!-- Analytics Card -->
            <a href="{% url 'analytics' %}" class="action-card analytics-card">
                <div class="action-icon">📊</div>
                <h3 class="action-title">Analytics</h3>
                <p class="action-description">View sales reports and business performance metrics</p>
            </a>

            <!-- Processing Online Orders Card -->
            <a href="{% url 'process_online_orders' %}" class="action-card online-orders-card">
                <div class="action-icon">🖥️</div>
                <h3 class="action-title">Process Online Orders</h3>
                <p class="action-description">Manage and fulfill online customer orders</p>
            </a>
        </div>

        <!-- Footer with Logout and Admin -->
        <div class="footer">
            <button class="address-labels-button" onclick="handleAddressLabels()">
                Address Labels
            </button>
            <button class="admin-button" onclick="checkAdminAccess()">
                Admin
            </button>
            <button class="logout-button" onclick="showLogoutVerification()">
                Logout
            </button>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Inventory Menu Modal -->
    <div class="inventory-modal" id="inventoryMenu">
        <div class="inventory-menu-content">
            <button class="inventory-menu-close" onclick="closeInventoryMenu()">&times;</button>
            <h2 class="inventory-menu-title">Inventory & Germination</h2>

            <div class="inventory-options">
                <a href="{% url 'germ_samples' %}" class="inventory-option">
                    <div class="inventory-option-icon">🧫</div>
                    <div class="inventory-option-text">Send Germ Samples</div>
                </a>
                <a href="{% url 'germination_inventory' %}" class="inventory-option">
                    <div class="inventory-option-icon">📋</div>
                    <div class="inventory-option-text">View Germination/Inventory Data</div>
                </a>
                <a href="{% url 'growouts' %}" class="inventory-option">
                    <div class="inventory-option-icon">🌿</div>
                    <div class="inventory-option-text">Growouts</div>
                </a>
            </div>
        </div>
    </div>

    <!-- Wholesale Menu Modal -->
    <div class="wholesale-modal" id="wholesaleMenu">
        <div class="wholesale-menu-content">
            <button class="wholesale-menu-close" onclick="closeWholesaleMenu()">&times;</button>
            <h2 class="wholesale-menu-title">Wholesale Options</h2>
            <div class="wholesale-options">
                <a href="{% url 'process_store_orders' %}" class="wholesale-option">
                    <div class="wholesale-option-icon">📋</div>
                    <div class="wholesale-option-text">Process Store Orders</div>
                </a>
                <a href="{% url 'edit_products' %}" class="wholesale-option">
                    <div class="wholesale-option-icon">🛠️</div>
                    <div class="wholesale-option-text">Edit Store Products</div>
                </a>
                <a href="{% url 'view_stores' %}" class="wholesale-option">
                    <div class="wholesale-option-icon">🏪</div>
                    <div class="wholesale-option-text">View Stores</div>
                </a>
            </div>
        </div>
    </div>

    <!-- Logout Verification Modal -->
    <div class="modal-overlay" id="verifyLogout">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <h2 style="margin-bottom: 20px;">Logout</h2>
            <p style="margin-bottom: 30px;">Are you sure you want to logout?</p>
            <div>
                <button class="btn btn-danger" onclick="logout()">Yes, Logout</button>
                <button class="btn btn-secondary" onclick="closeModal()">Cancel</button>
            </div>
        </div>
    </div>

   <script>
        // Pass Django URLs to JavaScript
        window.appUrls = {
            logout: "{% url 'office_logout' %}",
            checkAdmin: "{% url 'check_admin_access' %}",
            adminDashboard: "{% url 'admin_dashboard' %}"
        };
    </script>

    <!-- Load external JS -->
    <script src="{% static 'office/js/office_landing.js' %}"></script>

</body>
</html>